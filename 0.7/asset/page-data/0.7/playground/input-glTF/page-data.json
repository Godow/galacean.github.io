{"componentChunkName":"component---src-templates-playground-tsx","path":"/0.7/playground/input-glTF","result":{"pageContext":{"node":{"internal":{"content":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@oasis-engine/controls\", \"oasis-engine\", \"@oasis-engine/physics-lite\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@oasis-engine/controls\"), require(\"oasis-engine\"), require(\"@oasis-engine/physics-lite\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global[\"@oasisEngine/controls\"], global.oasisEngine, global[\"@oasisEngine/physicsLite\"]);\n    global.index = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_controls, _oasisEngine, _physicsLite) {\n  \"use strict\";\n\n  function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  var GlTFCollider = /*#__PURE__*/function (_Script) {\n    _inheritsLoose(GlTFCollider, _Script);\n\n    function GlTFCollider() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _Script.call.apply(_Script, [this].concat(args)) || this;\n      _this._tempVec30 = new _oasisEngine.Vector3();\n      _this._tempVec31 = new _oasisEngine.Vector3();\n      return _this;\n    }\n\n    var _proto = GlTFCollider.prototype;\n\n    _proto.onStart = function onStart() {\n      var renderers = this.entity.getComponentsIncludeChildren(_oasisEngine.MeshRenderer, []);\n\n      for (var i = renderers.length - 1; i >= 0; i--) {\n        this._addBoundingBox(renderers[i]);\n      }\n    };\n\n    _proto._addBoundingBox = function _addBoundingBox(renderer) {\n      var localSize = this._tempVec30,\n          localPosition = this._tempVec31; // Calculate the position and size of the collider.\n\n      var boundingBox = renderer.mesh.bounds;\n      var entity = renderer.entity;\n      boundingBox.getCenter(localPosition);\n\n      _oasisEngine.Vector3.subtract(boundingBox.max, boundingBox.min, localSize); // Add collider.\n\n\n      var boxCollider = entity.addComponent(_oasisEngine.StaticCollider);\n      var boxColliderShape = new _oasisEngine.BoxColliderShape();\n      boxColliderShape.setPosition(localPosition.x, localPosition.y, localPosition.z);\n      boxColliderShape.setSize(localSize.x, localSize.y, localSize.z);\n      boxCollider.addShape(boxColliderShape); // Add click script.\n\n      entity.addComponent(_oasisEngine.Script).onPointerClick = function () {\n        window.alert(\"Click:\" + entity.name);\n      };\n    };\n\n    return GlTFCollider;\n  }(_oasisEngine.Script); //-- create engine object\n\n\n  var engine = new _oasisEngine.WebGLEngine(\"canvas\");\n  engine.canvas.resizeByClientSize();\n  engine.physicsManager.initialize(_physicsLite.LitePhysics);\n  var scene = engine.sceneManager.activeScene;\n  var rootEntity = scene.createRootEntity();\n  var directLightNode = rootEntity.createChild(\"dir_light\");\n  directLightNode.addComponent(_oasisEngine.DirectLight);\n  directLightNode.transform.setRotation(30, 0, 0); //Create camera\n\n  var cameraNode = rootEntity.createChild(\"camera_node\");\n  cameraNode.transform.setPosition(0, 0, 10);\n  cameraNode.addComponent(_oasisEngine.Camera);\n  cameraNode.addComponent(_controls.OrbitControl);\n  engine.resourceManager.load(\"https://gw.alipayobjects.com/os/bmw-prod/48a1e8b3-06b4-4269-807d-79274e58283a.glb\").then(function (glTF) {\n    var glTFRoot = glTF.defaultSceneRoot;\n    var entity = rootEntity.createChild(\"glTF\");\n    entity.addChild(glTFRoot);\n    glTFRoot.transform.setScale(0.005, 0.005, 0.005);\n    glTFRoot.addComponent(GlTFCollider);\n    engine.run();\n  });\n});"},"name":"input-glTF","id":"eff860be-4a1e-571c-a15b-c23fc8628b9a"}}},"staticQueryHashes":[]}