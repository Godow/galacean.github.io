{"componentChunkName":"component---src-templates-playground-tsx","path":"/0.8/playground/physx-compound","result":{"pageContext":{"node":{"internal":{"content":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@oasis-engine-toolkit/controls\", \"@oasis-engine/physics-physx\", \"oasis-engine\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@oasis-engine-toolkit/controls\"), require(\"@oasis-engine/physics-physx\"), require(\"oasis-engine\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global[\"@oasisEngineToolkit/controls\"], global[\"@oasisEngine/physicsPhysx\"], global.oasisEngine);\n    global.index = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_controls, _physicsPhysx, _oasisEngine) {\n  \"use strict\";\n\n  function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  var TableGenerator = /*#__PURE__*/function (_Script) {\n    _inheritsLoose(TableGenerator, _Script);\n\n    function TableGenerator() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _Script.call.apply(_Script, [this].concat(args)) || this;\n      _this._totalTime = 0;\n      return _this;\n    }\n\n    var _proto = TableGenerator.prototype;\n\n    _proto.onUpdate = function onUpdate(deltaTime) {\n      this._totalTime += deltaTime;\n\n      if (this._totalTime > 300) {\n        this._addTable();\n\n        this._totalTime = 0;\n      }\n    };\n\n    _proto._addTable = function _addTable() {\n      var entity = this.entity.createChild(\"entity\");\n      entity.transform.setPosition(Math.random() * 16 - 8, 10, Math.random() * 16 - 8);\n      entity.transform.setRotation(Math.random() * 360, Math.random() * 360, Math.random() * 360);\n      entity.transform.setScale(3, 3, 3);\n      var boxCollider = entity.addComponent(_oasisEngine.DynamicCollider);\n      boxCollider.mass = 10.0;\n      var boxMaterial = new _oasisEngine.BlinnPhongMaterial(this.engine);\n      boxMaterial.baseColor.set(Math.random(), Math.random(), Math.random(), 1.0);\n      boxMaterial.shininess = 128;\n      {\n        var physicsBox = new _oasisEngine.BoxColliderShape();\n        physicsBox.size = new _oasisEngine.Vector3(0.5, 0.4, 0.045);\n        physicsBox.setPosition(0, 0, 0.125);\n        boxCollider.addShape(physicsBox);\n        var child = entity.createChild();\n        child.transform.setPosition(0, 0, 0.125);\n        var boxRenderer = child.addComponent(_oasisEngine.MeshRenderer);\n        boxRenderer.mesh = _oasisEngine.PrimitiveMesh.createCuboid(this.engine, 0.5, 0.4, 0.045);\n        boxRenderer.setMaterial(boxMaterial);\n      }\n      {\n        var physicsBox1 = new _oasisEngine.BoxColliderShape();\n        physicsBox1.size = new _oasisEngine.Vector3(0.1, 0.1, 0.3);\n        physicsBox1.setPosition(-0.2, -0.15, -0.045);\n        boxCollider.addShape(physicsBox1);\n\n        var _child = entity.createChild();\n\n        _child.transform.setPosition(-0.2, -0.15, -0.045);\n\n        var _boxRenderer = _child.addComponent(_oasisEngine.MeshRenderer);\n\n        _boxRenderer.mesh = _oasisEngine.PrimitiveMesh.createCuboid(this.engine, 0.1, 0.1, 0.3);\n\n        _boxRenderer.setMaterial(boxMaterial);\n      }\n      {\n        var physicsBox2 = new _oasisEngine.BoxColliderShape();\n        physicsBox2.size = new _oasisEngine.Vector3(0.1, 0.1, 0.3);\n        physicsBox2.setPosition(0.2, -0.15, -0.045);\n        boxCollider.addShape(physicsBox2);\n\n        var _child2 = entity.createChild();\n\n        _child2.transform.setPosition(0.2, -0.15, -0.045);\n\n        var _boxRenderer2 = _child2.addComponent(_oasisEngine.MeshRenderer);\n\n        _boxRenderer2.mesh = _oasisEngine.PrimitiveMesh.createCuboid(this.engine, 0.1, 0.1, 0.3);\n\n        _boxRenderer2.setMaterial(boxMaterial);\n      }\n      {\n        var physicsBox3 = new _oasisEngine.BoxColliderShape();\n        physicsBox3.size = new _oasisEngine.Vector3(0.1, 0.1, 0.3);\n        physicsBox3.setPosition(-0.2, 0.15, -0.045);\n        boxCollider.addShape(physicsBox3);\n\n        var _child3 = entity.createChild();\n\n        _child3.transform.setPosition(-0.2, 0.15, -0.045);\n\n        var _boxRenderer3 = _child3.addComponent(_oasisEngine.MeshRenderer);\n\n        _boxRenderer3.mesh = _oasisEngine.PrimitiveMesh.createCuboid(this.engine, 0.1, 0.1, 0.3);\n\n        _boxRenderer3.setMaterial(boxMaterial);\n      }\n      {\n        var physicsBox4 = new _oasisEngine.BoxColliderShape();\n        physicsBox4.size = new _oasisEngine.Vector3(0.1, 0.1, 0.3);\n        physicsBox4.setPosition(0.2, 0.15, -0.045);\n        boxCollider.addShape(physicsBox4);\n\n        var _child4 = entity.createChild();\n\n        _child4.transform.setPosition(0.2, 0.15, -0.045);\n\n        var _boxRenderer4 = _child4.addComponent(_oasisEngine.MeshRenderer);\n\n        _boxRenderer4.mesh = _oasisEngine.PrimitiveMesh.createCuboid(this.engine, 0.1, 0.1, 0.3);\n\n        _boxRenderer4.setMaterial(boxMaterial);\n      }\n    };\n\n    return TableGenerator;\n  }(_oasisEngine.Script);\n\n  function addPlane(rootEntity, size, position, rotation) {\n    var engine = rootEntity.engine;\n    var material = new _oasisEngine.BlinnPhongMaterial(engine);\n    material.baseColor.set(0.04, 0.42, 0.45, 1);\n    material.shininess = 128;\n    var entity = rootEntity.createChild();\n    var renderer = entity.addComponent(_oasisEngine.MeshRenderer);\n    entity.transform.position = position;\n    entity.transform.rotationQuaternion = rotation;\n    renderer.mesh = _oasisEngine.PrimitiveMesh.createPlane(engine, size.x, size.y);\n    renderer.setMaterial(material);\n    var physicsPlane = new _oasisEngine.PlaneColliderShape();\n    physicsPlane.setPosition(0, 0.1, 0);\n    var planeCollider = entity.addComponent(_oasisEngine.StaticCollider);\n    planeCollider.addShape(physicsPlane);\n    return entity;\n  } //--------------------------------------------------------------------------------------------------------------------\n\n\n  _physicsPhysx.PhysXPhysics.initialize().then(function () {\n    var engine = new _oasisEngine.WebGLEngine(\"canvas\");\n    engine.physicsManager.initialize(_physicsPhysx.PhysXPhysics);\n    engine.canvas.resizeByClientSize();\n    var scene = engine.sceneManager.activeScene;\n    var rootEntity = scene.createRootEntity(\"root\");\n    scene.ambientLight.diffuseSolidColor.set(0.5, 0.5, 0.5, 1); // init camera\n\n    var cameraEntity = rootEntity.createChild(\"camera\");\n    cameraEntity.addComponent(_oasisEngine.Camera);\n    cameraEntity.transform.setPosition(10, 10, 10);\n    cameraEntity.addComponent(_controls.OrbitControl); // init directional light\n\n    var light = rootEntity.createChild(\"light\");\n    light.transform.setPosition(0.3, 1, 0.4);\n    light.transform.lookAt(new _oasisEngine.Vector3(0, 0, 0));\n    light.addComponent(_oasisEngine.DirectLight);\n    addPlane(rootEntity, new _oasisEngine.Vector2(30, 30), new _oasisEngine.Vector3(), new _oasisEngine.Quaternion());\n    rootEntity.addComponent(TableGenerator); // Run engine\n\n    engine.run();\n  });\n});"},"name":"physx-compound","id":"1f600ecf-e4ae-5501-b3ca-b6a7b4c737f2"}}},"staticQueryHashes":[]}