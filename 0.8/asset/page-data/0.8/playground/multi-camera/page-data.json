{"componentChunkName":"component---src-templates-playground-tsx","path":"/0.8/playground/multi-camera","result":{"pageContext":{"node":{"internal":{"content":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@oasis-engine/spine\", \"oasis-engine\", \"@oasis-engine-toolkit/controls\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@oasis-engine/spine\"), require(\"oasis-engine\"), require(\"@oasis-engine-toolkit/controls\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.oasisSpine, global.oasisEngine, global[\"@oasisEngineToolkit/controls\"]);\n    global.index = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_spine, _oasisEngine, _controls) {\n  \"use strict\";\n\n  function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  /**\n   * Script for rotate.\n   */\n  var RotateScript = /*#__PURE__*/function (_Script) {\n    _inheritsLoose(RotateScript, _Script);\n\n    function RotateScript() {\n      return _Script.apply(this, arguments) || this;\n    }\n\n    var _proto = RotateScript.prototype;\n\n    /**\n     * @override\n     * The main loop, called frame by frame.\n     * @param deltaTime - The deltaTime when the script update.\n     */\n    _proto.onUpdate = function onUpdate(deltaTime) {\n      this.entity.transform.rotate(0.0, 0.6, 0);\n    };\n\n    return RotateScript;\n  }(_oasisEngine.Script);\n\n  var engine = new _oasisEngine.WebGLEngine(\"canvas\");\n  engine.canvas.resizeByClientSize();\n  var scene = engine.sceneManager.activeScene;\n  var background = scene.background;\n  var rootEntity = scene.createRootEntity(); // init full screen camera\n\n  var cameraEntity = rootEntity.createChild(\"fullscreen-camera\");\n  var camera = cameraEntity.addComponent(_oasisEngine.Camera);\n  camera.cullingMask = _oasisEngine.Layer.Layer0;\n  cameraEntity.transform.setPosition(10, 10, 10);\n  cameraEntity.transform.lookAt(new _oasisEngine.Vector3(0, 0, 0));\n  cameraEntity.addComponent(_controls.OrbitControl);\n  var lightEntity = rootEntity.createChild(\"Light\");\n  lightEntity.transform.setRotation(-30, 0, 0);\n  lightEntity.addComponent(_oasisEngine.DirectLight); // init cube\n\n  var cubeEntity = rootEntity.createChild(\"cube\");\n  cubeEntity.transform.setPosition(-3, 0, 3);\n  var renderer = cubeEntity.addComponent(_oasisEngine.MeshRenderer);\n  renderer.mesh = _oasisEngine.PrimitiveMesh.createCuboid(engine, 2, 2, 2);\n  var material = new _oasisEngine.BlinnPhongMaterial(engine);\n  material.baseColor = new _oasisEngine.Color(1, 0.25, 0.25, 1);\n  renderer.setMaterial(material);\n  cubeEntity.addComponent(RotateScript); //----------------------------------------------------------------------------------------------------------------------\n  // init window camera\n\n  var windowEntity = scene.createRootEntity();\n  windowEntity.layer = _oasisEngine.Layer.Layer1;\n  var windowCameraEntity = windowEntity.createChild(\"window-camera\");\n  var windowCamera = windowCameraEntity.addComponent(_oasisEngine.Camera);\n  windowCamera.cullingMask = _oasisEngine.Layer.Layer1;\n  windowCamera.viewport.set(0.5, 0.2, 0.3, 0.6);\n  windowCamera.farClipPlane = 200;\n  windowCameraEntity.transform.setPosition(0, 3, 20);\n  engine.run();\n  engine.resourceManager.load({\n    urls: [\"https://gw.alipayobjects.com/os/OasisHub/a66ef194-6bc8-4325-9a59-6ea9097225b1/1620888427489.json\", \"https://gw.alipayobjects.com/os/OasisHub/a1e3e67b-a783-4832-ba1b-37a95bd55291/1620888427490.atlas\", \"https://gw.alipayobjects.com/zos/OasisHub/a3ca8f62-1068-43a5-bb64-5c9a0f823dde/1620888427490.png\"],\n    type: \"spine\"\n  }).then(function (spineEntity) {\n    spineEntity.layer = _oasisEngine.Layer.Layer1;\n    windowEntity.addChild(spineEntity);\n    var spineAnimation = spineEntity.getComponent(_spine.SpineAnimation);\n    spineAnimation.state.setAnimation(0, \"walk\", true);\n    spineAnimation.scale = 0.01;\n  });\n  engine.resourceManager.load({\n    urls: [\"https://gw.alipayobjects.com/mdn/rms_7c464e/afts/img/A*5w6_Rr6ML6IAAAAAAAAAAAAAARQnAQ\", \"https://gw.alipayobjects.com/mdn/rms_7c464e/afts/img/A*TiT2TbN5cG4AAAAAAAAAAAAAARQnAQ\", \"https://gw.alipayobjects.com/mdn/rms_7c464e/afts/img/A*8GF6Q4LZefUAAAAAAAAAAAAAARQnAQ\", \"https://gw.alipayobjects.com/mdn/rms_7c464e/afts/img/A*D5pdRqUHC3IAAAAAAAAAAAAAARQnAQ\", \"https://gw.alipayobjects.com/mdn/rms_7c464e/afts/img/A*_FooTIp6pNIAAAAAAAAAAAAAARQnAQ\", \"https://gw.alipayobjects.com/mdn/rms_7c464e/afts/img/A*CYGZR7ogZfoAAAAAAAAAAAAAARQnAQ\"],\n    type: _oasisEngine.AssetType.TextureCube\n  }).then(function (cubeMap1) {\n    // Add skybox background\n    background.mode = _oasisEngine.BackgroundMode.Sky;\n    var skyMaterial = background.sky.material = new _oasisEngine.SkyBoxMaterial(engine);\n    skyMaterial.textureCubeMap = cubeMap1;\n    background.sky.mesh = _oasisEngine.PrimitiveMesh.createCuboid(engine, 2, 2, 2);\n  });\n});"},"name":"multi-camera","id":"76b87b7c-419c-53b0-aba8-cdc6c6deaa9b"}}},"staticQueryHashes":[]}