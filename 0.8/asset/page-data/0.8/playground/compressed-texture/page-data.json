{"componentChunkName":"component---src-templates-playground-tsx","path":"/0.8/playground/compressed-texture","result":{"pageContext":{"node":{"internal":{"content":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"dat.gui\", \"oasis-engine\", \"@oasis-engine-toolkit/controls\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"dat.gui\"), require(\"oasis-engine\"), require(\"@oasis-engine-toolkit/controls\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.dat, global.oasisEngine, global[\"@oasisEngineToolkit/controls\"]);\n    global.index = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (dat, _oasisEngine, _controls) {\n  \"use strict\";\n\n  dat = _interopRequireWildcard(dat);\n\n  var _fileList;\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  _oasisEngine.Logger.enable();\n\n  var engine = new _oasisEngine.WebGLEngine(\"canvas\");\n  engine.canvas.resizeByClientSize();\n  var scene = engine.sceneManager.activeScene;\n  var rootEntity = scene.createRootEntity(); // Create camera\n\n  var cameraNode = rootEntity.createChild(\"camera_node\");\n  cameraNode.transform.position = new _oasisEngine.Vector3(0, 0, 3);\n  cameraNode.addComponent(_oasisEngine.Camera);\n  cameraNode.addComponent(_controls.OrbitControl); // Create sky\n\n  var sky = scene.background.sky;\n  var skyMaterial = new _oasisEngine.SkyBoxMaterial(engine);\n  scene.background.mode = _oasisEngine.BackgroundMode.Sky;\n  sky.material = skyMaterial;\n  sky.mesh = _oasisEngine.PrimitiveMesh.createCuboid(engine, 1, 1, 1);\n  var lightEntity = rootEntity.createChild();\n  lightEntity.addComponent(_oasisEngine.DirectLight).intensity = 0.5;\n  lightEntity.transform.setPosition(-5, 5, 5);\n  lightEntity.transform.lookAt(new _oasisEngine.Vector3(0, 0, 0)); // material ball\n\n  var ball = rootEntity.createChild(\"ball\");\n  var ballRender = ball.addComponent(_oasisEngine.MeshRenderer);\n  var material = new _oasisEngine.UnlitMaterial(engine);\n  ball.transform.setRotation(90, 0, 0);\n  ballRender.mesh = _oasisEngine.PrimitiveMesh.createPlane(engine, 1, 1);\n  ballRender.setMaterial(material); // debug\n\n  var gui = new dat.GUI();\n  var fileList = (_fileList = {}, _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGB_S3TC_DXT1_EXT] = \"https://gw.alipayobjects.com/os/bmw-prod/b38cb09e-154c-430e-98c8-81dc19d4fb8e.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGBA_S3TC_DXT5_EXT] = \"https://gw.alipayobjects.com/os/bmw-prod/269eae01-13d9-43fc-80a5-cc5a784eae7a.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGB_ETC1_WEBGL] = \"https://gw.alipayobjects.com/os/bmw-prod/a704b7a6-b9b1-48ed-a215-04745a90b003.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGB8_ETC2] = \"https://gw.alipayobjects.com/os/bmw-prod/e03d0d5f-be29-412c-b412-2d8e583b7a5a.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGBA8_ETC2_EAC] = \"https://gw.alipayobjects.com/os/bmw-prod/24406406-bfa4-4e08-b5da-b26056fdea62.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGBA_ASTC_4X4_KHR] = \"https://gw.alipayobjects.com/os/bmw-prod/3fb9b745-e02b-425b-98e5-df6a0a058b47.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGBA_ASTC_12X12_KHR] = \"https://gw.alipayobjects.com/os/bmw-prod/6465388f-81b4-45d1-86a4-731344af220b.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGB_PVRTC_2BPPV1_IMG] = \"https://gw.alipayobjects.com/os/bmw-prod/c8883997-3616-4811-a9bf-4d4c07015fb7.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGB_PVRTC_4BPPV1_IMG] = \"https://gw.alipayobjects.com/os/bmw-prod/3de8467b-f626-48e3-8dd4-8cb4e7acbe4f.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGBA_PVRTC_2BPPV1_IMG] = \"https://gw.alipayobjects.com/os/bmw-prod/7955549e-ee62-4982-a810-d118e2fce6dd.ktx\", _fileList[_oasisEngine.GLCompressedTextureInternalFormat.RGBA_PVRTC_4BPPV1_IMG] = \"https://gw.alipayobjects.com/os/bmw-prod/dc02693a-f416-4b2e-bf7b-9553c4038ce8.ktx\", _fileList);\n  var rhi = engine._hardwareRenderer;\n  var formats = [];\n  var debugInfo = {\n    format: \"\"\n  };\n\n  for (var format in fileList) {\n    var can = rhi.canIUseCompressedTextureInternalFormat(format);\n    var formatDes = _oasisEngine.GLCompressedTextureInternalFormat[format] + \" \" + can;\n    formats.push(formatDes);\n\n    if (can && !debugInfo.format) {\n      debugInfo.format = formatDes;\n    }\n  }\n\n  function loadTexture(formatDes) {\n    var format = formatDes.split(\" \")[0];\n    var url = fileList[_oasisEngine.GLCompressedTextureInternalFormat[format]];\n    engine.resourceManager.load({\n      type: _oasisEngine.AssetType.KTX,\n      url: url\n    }).then(function (res) {\n      var compressedTexture = res;\n      material.baseTexture = compressedTexture;\n    });\n  }\n\n  if (debugInfo.format) {\n    loadTexture(debugInfo.format);\n  }\n\n  gui.add(debugInfo, \"format\", formats).onChange(function (v) {\n    loadTexture(v);\n  });\n  engine.run();\n});"},"name":"compressed-texture","id":"eb284a20-d851-5b79-9023-227098c3a1b8"}}},"staticQueryHashes":[]}